<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>9-21 Submission Page</title>

    <style>
        table,
        th,
        td {
            border: 3px solid gray;
            border-collapse: collapse;
        }
    </style>

<script>
    /*
        This script segment is intended to simulate a form
        getting data from a form post on the referring page.
        We are only doing this for now until we go over a 
        web server implementation that contains a server side
        presence.
    */
    window.onload = function () {
        //(GET method) get your query string values by field
        var firstName = GetURLParameterValue("fname");
        var lastName = GetURLParameterValue("lname");
        var saw = GetURLParameterValue("saw");
        var rating = GetURLParameterValue("rating");
        var agree = GetURLParameterValue("agree");
        //populate desired HTML elements with desired values
        //we pass in the id name of the HTML element we want
        //to populate with the query string text
        // (e.g., id="fname" is found on the HTML element we
        // want to populate with text)
        document.getElementById("fname").textContent = firstName;
        document.getElementById("lname").textContent = lastName;
        if (saw == "on") {
            document.getElementById("saw").textContent = "yes";
        }
        else {
            document.getElementById("saw").textContent = "no";
        }
            document.getElementById("rating").textContent = rating;
        document.getElementById("agree").textContent = agree;
    };

    //Function retrieves the requested GET parameter value from
    //the query string. Input is the field name for the 
    //field-value pair in the query string,
    //e.g., field=value -> first=bob
    function GetURLParameterValue(searchParameter) {
        var queryString = window.location.search.substring(1);
        var URLFieldValues = queryString.split('&');
        for (var i = 0; i < URLFieldValues.length; i++) {
            var parameterValues = URLFieldValues[i].split('=');
            if (parameterValues[0] == searchParameter) {
                return parameterValues[1];
            }
        }
    };
</script>
</head>

<body>
    <!-- Reminder -- no method attribute specific, so it defaults to GET -->
    <h1> Feedback Submission Success</h1>
    <table>
        <caption>Your feedback has been received. You submitted:</caption>
        <tbody>
            <tr>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Saw what I did</th>
                <th>Rating</th>
                <th>It was funny</th>
            </tr>
            <tr>
                <td id="fname"></td>
                <td id="lname"></td>
                <td id="saw"></td>
                <td id="rating"></td>
                <td id="agree"></td>
            </tr>
    </table>
    <p>Click <a href="index.html">here</a> to fill out another form</p>
</body>
</html>